<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Information Form</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"> 
</head>
<body>

<div class="container">
    <div class="form-container">
        <h2 class="text-center mb-4 p-3">Placement Information Form</h2>

        <div class="text-center mb-3">
            <button class="btn btn-dark" onclick="location.href='./index.html'">Back to Home</button>
        </div>
        <form id="studentForm" action="/submit" method="POST">
            <div class="form-group">
                <label>Roll No</label>
                <input type="text" class="form-control" name="roll_no" placeholder="Enter Roll Number" required>
            </div>
            <div class="form-group">
                <label>Name</label>
                <input type="text" class="form-control" name="name" placeholder="Enter Name" required>
            </div>
            <div class="form-group">
                <label>Email ID</label>
                <input type="email" class="form-control" name="email" placeholder="Enter Email ID" required>
            </div>
            <div class="form-group">
                <label>Personal Mail ID</label>
                <input type="email" class="form-control" name="personal_mail" placeholder="Enter Personal Mail ID">
            </div>
            <div class="form-group">
                <label>Temporary Address</label>
                <textarea class="form-control" name="temporary_address" rows="2" placeholder="Enter Temporary Address"></textarea>
            </div>
            <div class="form-group">
                <label>Permanent Address</label>
                <textarea class="form-control" name="permanent_address" rows="2" placeholder="Enter Permanent Address"></textarea>
            </div>
            <div class="form-group">
                <label>Mobile Number</label>
                <input type="tel" class="form-control" name="mobile_number" placeholder="Enter Mobile Number" required>
            </div>
            <div class="form-group">
                <label>WhatsApp Number</label>
                <input type="tel" class="form-control" name="whatsapp_number" placeholder="Enter WhatsApp Number">
            </div>
            <div class="form-group">
                <label>Parent Name</label>
                <input type="text" class="form-control" name="parent_name" placeholder="Enter Parent Name">
            </div>
            <div class="form-group">
                <label>Parent Mobile Number</label>
                <input type="tel" class="form-control" name="parent_mobile" placeholder="Enter Parent Mobile Number">
            </div>

            <div class="form-group">
                <label>Marks in SSLC (%)</label>
                <input type="number" class="form-control" name="sslc_marks" step="0.01" placeholder="Enter Marks in Percentage">
            </div>
            <div class="form-group">
                <label>State Board / CBSE (SSLC)</label>
                <select class="form-control" name="sslc_board">
                    <option value="State Board">State Board</option>
                    <option value="CBSE">CBSE</option>
                </select>
            </div>
            <div class="form-group">
                <label>Marks in HSC (%)</label>
                <input type="number" class="form-control" name="hsc_marks" step="0.01" placeholder="Enter Marks in Percentage">
            </div>
            <div class="form-group">
                <label>State Board / CBSE (HSC)</label>
                <select class="form-control" name="hsc_board">
                    <option value="State Board">State Board</option>
                    <option value="CBSE">CBSE</option>
                </select>
            </div>
            <div class="form-group">
                <label>Marks in Diploma</label>
                <input type="number" class="form-control" name="diploma_marks" step="0.01" placeholder="Enter Diploma Marks">
            </div>

            <div class="form-group">
                <label>Semester - I GPA</label>
                <input type="number" class="form-control" name="sem1_gpa" step="0.01" placeholder="Enter GPA">
            </div>
            <div class="form-group">
                <label>Semester - I CGPA</label>
                <input type="number" class="form-control" name="sem1_cgpa" step="0.01" placeholder="Enter CGPA">
            </div>
            <div class="form-group">
                <label>Semester - II GPA</label>
                <input type="number" class="form-control" name="sem2_gpa" step="0.01" placeholder="Enter GPA">
            </div>
            <div class="form-group">
                <label>Semester - II CGPA</label>
                <input type="number" class="form-control" name="sem2_cgpa" step="0.01" placeholder="Enter CGPA">
            </div>
            <div class="form-group">
                <label>Semester - III GPA</label>
                <input type="number" class="form-control" name="sem3_gpa" step="0.01" placeholder="Enter GPA">
            </div>
            <div class="form-group">
                <label>Semester - III CGPA</label>
                <input type="number" class="form-control" name="sem3_cgpa" step="0.01" placeholder="Enter CGPA">
            </div>

            <div class="form-group">
                <label>No. of Standing Arrears</label>
                <input type="number" class="form-control" name="standing_arrears" placeholder="Enter No. of Standing Arrears">
            </div>
            <div class="form-group">
                <label>History of Arrears</label>
                <input type="number" class="form-control" name="history_arrears" placeholder="Enter History of Arrears">
            </div>
            <div class="form-group">
                <label>No. of Projects Done</label>
                <input type="number" class="form-control" name="projects_done" placeholder="Enter No. of Projects">
            </div>
            <div class="form-group">
                <label>GitHub Link</label>
                <input type="url" class="form-control" name="github_link" placeholder="Enter GitHub Link">
            </div>
            <div class="form-group">
                <label>LeetCode ID</label>
                <input type="text" class="form-control" name="leetcode_id" placeholder="Enter LeetCode ID">
            </div>
            <div class="form-group">
                <label>LeetCode Dashboard Link</label>
                <input type="url" class="form-control" name="leetcode_dashboard" placeholder="Enter Dashboard Link">
            </div>
            <div class="form-group">
                <label>No. of Problems Solved in LeetCode</label>
                <input type="number" class="form-control" name="leetcode_problems" placeholder="Enter No. of Problems">
            </div>
            <div class="form-group">
                <label>Problems Solved on Other Platforms</label>
                <input type="number" class="form-control" name="other_problems" placeholder="Enter Problems Solved">
            </div>
            <div class="form-group">
                <label>No. of Global Certificates Done</label>
                <input type="number" class="form-control" name="certificates_done" placeholder="Enter No. of Certificates">
            </div>
            <div class="form-group">
                <label>No. of Internships Done</label>
                <input type="number" class="form-control" name="internships_done" placeholder="Enter No. of Internships">
            </div>
            <div class="form-group">
                <label>Languages Known (Other than English &amp; Tamil)</label>
                <input type="text" class="form-control" name="languages_known" placeholder="Enter Languages Known">
            </div>

            <button type="submit" class="btn btn-primary btn-block mt-3">Submit</button>
                </form>

            </div>
        </div>

        <script>
            document.getElementById('studentForm').addEventListener('submit', async function(e) {
                e.preventDefault(); // Prevent page reload
            
                const formData = new FormData(this);
                const data = Object.fromEntries(formData.entries());
            
                try {
                    const response = await fetch('/submit', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(data)
                    });
            
                    const result = await response.json();
                    if (response.ok) {
                        alert(result.message); // success message
                        this.reset(); // optionally reset form
                    } else {
                        alert("Error: " + result.message); // show error from backend
                    }
            
                } catch (error) {
                    alert("An unexpected error occurred");
                    console.error(error);
                }
            });
            </script>
            
</body>
</html>
